<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RealPower | Global Infrastructure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #000; color: #fff; line-height: 1.8; margin: 0; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(50px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .grad-text { background: linear-gradient(180deg, #FFFFFF 30%, #555 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .title-spacing { line-height: 1.5 !important; letter-spacing: 0.02em !important; padding: 0 1.5rem; }
        .custom-select { background-color: #000; border: 1px solid #222; border-radius: 12px; padding: 10px 20px; font-size: 12px; color: #888; cursor: pointer; outline: none; }
        #profit-counter { font-variant-numeric: tabular-nums; }
        .rtl { direction: rtl; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center">
    <nav class="w-full max-w-7xl p-8 flex justify-between items-center z-50">
        <div class="font-extrabold text-2xl tracking-tighter">REALPOWER</div>
        <select id="lang-select" onchange="setLang(this.value)" class="custom-select">
            <option value="en">English (Global)</option>
            <option value="zh">简体中文 (China)</option>
            <option value="ru">Русский (Russia)</option>
            <option value="ar">العربية (Middle East)</option>
            <option value="vn">Tiếng Việt (Vietnam)</option>
            <option value="mm">မြန်မာဘာသာ (Myanmar)</option>
        </select>
    </nav>

    <main id="main-ui" class="flex-1 flex flex-col items-center justify-center w-full max-w-5xl px-6 relative pb-20 text-center">
        <div class="absolute w-[70vw] h-[70vw] max-w-[700px] bg-blue-500/5 rounded-full blur-[100px] -z-10"></div>
        
        <div class="mb-16">
            <h1 id="t-title" class="text-4xl md:text-[85px] font-extrabold mb-10 grad-text title-spacing">Real World.<br>Real Compute.</h1>
            <p id="t-desc" class="text-lg md:text-xl max-w-2xl mx-auto opacity-60">Rent your idle hardware to the world's first decentralized AI protocol.</p>
        </div>

        <div class="glass p-10 md:p-16 rounded-[48px] w-full max-w-[520px] shadow-2xl mx-auto">
            <div id="join-form" class="space-y-8">
                <div class="text-left">
                    <label id="l-email" class="text-[10px] text-zinc-500 font-black tracking-[0.2em] mb-3 block uppercase">Identity & Payout</label>
                    <input type="email" id="user-email" placeholder="access@protocol.io" required class="w-full p-5 bg-black border border-zinc-900 rounded-2xl focus:border-zinc-400 outline-none transition text-white text-lg">
                </div>
                <div class="text-left">
                    <label id="l-node" class="text-[10px] text-zinc-500 font-black tracking-[0.2em] mb-3 block uppercase">Hardware Tier</label>
                    <select id="user-tier" class="w-full p-5 bg-black border border-zinc-900 rounded-2xl appearance-none outline-none focus:border-zinc-400 text-sm md:text-base cursor-pointer">
                        <option id="o-1" value="Tier 1: High-End GPU">Tier 1: High-End GPU</option>
                        <option id="o-2" value="Tier 2: Standard PC">Tier 2: Standard PC</option>
                        <option id="o-3" value="Tier 3: Edge Node">Tier 3: Edge Node</option>
                    </select>
                </div>
                <button id="submit-btn" onclick="handleInit()" class="w-full py-6 bg-white text-black font-black rounded-2xl hover:bg-zinc-200 transition active:scale-95 text-xl flex justify-center items-center">
                    <span id="t-btn">Initialize Protocol</span>
                </button>
            </div>

            <div id="dashboard" class="hidden text-center">
                <div id="t-status" class="text-green-500 text-[10px] font-black tracking-widest mb-4 uppercase">● Status: Earning</div>
                <h3 id="t-dash-title" class="text-2xl font-extrabold mb-10 tracking-tight text-white">Profit Generating...</h3>
                <div class="bg-zinc-950 p-10 rounded-[32px] border border-zinc-900 mb-8">
                    <div id="l-revenue" class="text-[10px] text-zinc-600 uppercase font-black tracking-widest mb-4">Total Revenue</div>
                    <div class="text-5xl font-bold text-white mb-2 tracking-tighter" id="profit-counter">0.000000</div>
                    <div class="text-[9px] text-zinc-700 tracking-[0.3em] font-black uppercase">WIR Tokens</div>
                </div>
                <p class="text-[11px] text-zinc-600 italic" id="t-dash-sub">Synchronizing with Genesis pool...</p>
            </div>
        </div>
    </main>

    <script>
        // 核心配置：使用您提供的最新 Key
        const SUPABASE_URL = 'https://axcayrzxxvkneipjcreu.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4Y2F5cnp4eHZrbmVpcGpjcmV1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyMTE4NzAsImV4cCI6MjA4MTc4Nzg3MH0.9aaU6irsY5GqHeeCOSb7uUOHhEZRBGPXSPPto68gpZM';
        
        const _supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        const langs = {
            en: { title: "Real World.<br>Real Compute.", desc: "Rent your idle hardware to the world's first decentralized AI protocol.", email: "Identity & Payout", node: "Hardware Tier", btn: "Initialize Protocol", o1: "Tier 1: High-End GPU", o2: "Tier 2: Standard PC", o3: "Tier 3: Edge Node", dashTitle: "Profit Generating...", revenue: "Total Revenue", dashSub: "Hashing on Genesis pool...", status: "● Status: Earning" },
            zh: { title: "真实世界。<br>真实算力。", desc: "全球首个去中心化 AI 算力协议。出租硬件，实现收益增长。", email: "身份认证与收款", node: "硬件基础设施等级", btn: "初始化协议", o1: "一级：高性能显卡", o2: "二级：标准电脑", o3: "三级：边缘节点", dashTitle: "收益实时生成中...", revenue: "累计总收益", dashSub: "正在与创世算力池同步...", status: "● 状态：正在盈利" },
            ru: { title: "Реальный мир.<br>Реальный расчет.", desc: "Сдавайте в аренду свое железо. Реальный доход.", email: "Email для выплат", node: "Уровень железа", btn: "Запустить", o1: "T1: Топовый GPU", o2: "T2: Стандартный ПК", o3: "T3: Мобильное устр.", dashTitle: "Генерация прибыли...", revenue: "Общий доход", dashSub: "Синхронизация...", status: "● СТАТУС: ДОХОД" },
            ar: { title: "عالم حقيقي.<br>حساب حقيقي.", desc: "اربح القيمة الحقيقية من أجهزتك.", email: "البريد الإلكتروني", node: "فئة الأجهزة", btn: "بدء التشغيل", o1: "T1: GPU متطور", o2: "T2: كمبيوتر", o3: "T3: جهاز محمول", dashTitle: "جاري الربح...", revenue: "إجمالي الإيرادات", dashSub: "جاري المزامنة...", status: "● الحالة: كسب" },
            vn: { title: "Thế giới thực.<br>Tính toán thực.", desc: "Cho thuê phần cứng để nhận giá trị thực.", email: "Email thanh toán", node: "Cấp độ phần cứng", btn: "Khởi tạo", o1: "Cấp 1: GPU cao cấp", o2: "Cấp 2: PC tiêu chuẩn", o3: "Cấp 3: Thiết bị Edge", dashTitle: "Đang tạo lợi nhuận...", revenue: "Tổng thu nhập", dashSub: "Đang đồng bộ...", status: "● TRẠNG THÁI: ĐANG KIẾM TIỀN" },
            mm: { title: "စစ်မှန်သောကမ္ဘာ။<br>စစ်မှန်သောတွက်ချက်မှု။", desc: "သင့်ဟာ့ဒ်ဝဲကို ငှားပြီး ဝင်ငွေရှာပါ။", email: "အီးမေးလ်", node: "ဟာ့ဒ်ဝဲအဆင့်", btn: "စတင်ပါ", o1: "အဆင့် ၁: High-End GPU", o2: "အဆင့် ၂: ပုံမှန် PC", o3: "အဆင့် ၃: မိုဘိုင်းဖုန်း", dashTitle: "ဝင်ငွေရရှိနေသည်...", revenue: "စုစုပေါင်းဝင်ငွေ", dashSub: "တွက်ချက်နေသည်...", status: "● အခြေအနေ: ဝင်ငွေရနေသည်" }
        };

        let profit = 0;

        function setLang(l) {
            const t = langs[l] || langs.en;
            const main = document.getElementById('main-ui');
            if (l === 'ar') main.classList.add('rtl'); else main.classList.remove('rtl');

            document.getElementById('t-title').innerHTML = t.title;
            document.getElementById('t-desc').innerText = t.desc;
            document.getElementById('l-email').innerText = t.email;
            document.getElementById('l-node').innerText = t.node;
            document.getElementById('t-btn').innerText = t.btn;
            document.getElementById('o-1').innerText = t.o1;
            document.getElementById('o-2').innerText = t.o2;
            document.getElementById('o-3').innerText = t.o3;
            document.getElementById('t-dash-title').innerText = t.dashTitle;
            document.getElementById('l-revenue').innerText = t.revenue;
            document.getElementById('t-dash-sub').innerText = t.dashSub;
            document.getElementById('t-status').innerText = t.status;
        }

        async function handleInit() {
            const email = document.getElementById('user-email').value;
            const tier = document.getElementById('user-tier').value;
            const btn = document.getElementById('submit-btn');

            if (!email) { alert("Please enter your email"); return; }
            
            btn.disabled = true;
            btn.innerText = "Processing...";

            try {
                // 写入数据库逻辑
                const { error } = await _supabase
                    .from('miners')
                    .insert([{ email: email, tier: tier }]);

                if (error) throw error;

                // 成功后显示仪表盘
                document.getElementById('join-form').style.display = 'none';
                document.getElementById('dashboard').style.display = 'block';
                
                setInterval(() => {
                    profit += 0.00004218;
                    document.getElementById('profit-counter').innerText = profit.toFixed(6);
                }, 100);

            } catch (err) {
                alert("Database Error: " + err.message);
                btn.disabled = false;
                btn.innerText = "Initialize Protocol";
            }
        }
    </script>
</body>
</html>
